---
import { cn } from '@/utils/cn' /* <-- ruta corregida */
import { sluglify } from '@/utils/sluglify'

interface Props {
	name?: string
	activeCategory?: string
}

const { name = 'Ver todo', activeCategory } = Astro.props as Props
const currentPath = Astro.url.pathname
const slugified = sluglify(name.toLowerCase())

const isActive =
	activeCategory?.toLowerCase() === slugified || (currentPath === '/' && name === 'Ver todo')

const href = name === 'Ver todo' ? '/' : `/category/${slugified}/1`
---

<link rel='stylesheet' href='/src/styles/Category.css' />

<a
	href={href}
	class={cn(`category-chip`, isActive && `category-chip--active`)}
	aria-current={isActive ? 'page' : undefined}
>
	{name}
</a>
